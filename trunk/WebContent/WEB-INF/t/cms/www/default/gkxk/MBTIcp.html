<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
		<meta name="renderer" content="webkit">
		<title>MBTI测评</title>
		<link rel="stylesheet" href="${resSys}/res/css/font-awesome.min.css" />
		<link rel="stylesheet" href="${resSys}/res/css/amazeui.css" />
		<link rel="stylesheet" href="${resSys}/res/css/head-footer.css" />
		<link rel="stylesheet" href="${resSys}/res/css/cs.css" />
			<link href="${base}/r/wdedu/css/public.css" rel="stylesheet" type="text/css"/>
		<script src="${resSys}/res/js/jquery-1.11.3.min.js"></script>
	</head>
	<body>
		<!--顶部线条-->

		<!--tab切换  导航-->
         [#include "../wdedu/include/header_address.html"/]
		[#include "../wdedu/include/header_xgkxk.html"/]
			<div class="mbxdh_bg">
                  <div class="mbxdh">
                      <a href="${base}/">首页</a>&nbsp;&gt; &nbsp;<a href="#">新高考选科</a>&nbsp;&gt; &nbsp; <a href="#">选科测评</a>
                  </div>
              </div>
		<section class="banner_xk">

		</section>
		<section class="center-block">
			<p class="cs-p">这是一份深入探索你的思维和处事风格的量表。请你仔细阅读每一题，并根据自己的实际情况作答题目。完成本量表大概需要20分钟的时间。</p>
			<div class="bbx-ks-wrap gps box-shadow">
				<div class="bbx-xgcs-ks gps">
					<button type="button" class="am-btn bg-green abs-center" onclick="showContent(this)">开始测试</button>
				</div>
			</div>
			<div class="bbx-ks-wrap gps box-shadow am-hide">
				<div class="bbx-xgcs-ks">
					<p class="cs-warn">下列这组题目中，每个问题都只有A和B两个选项。请你选出最接近你真实情况的那个答案。<br />答案没有对错之分，请仔细阅读题目，但不要在某一道题上花费太多时间，根据自己的第一感觉选择即可。</p>
					<ul>
						[#list onelist as list]
							<li class="am-hide">
							<h5>${(list_index+1)+"."+list.content}</h5>
							<div>
								<input type="radio" name="ans1" id="${'1_'+(list_index+1)}" typeid="${list.value1}"  />
								<label for="${'1_'+(list_index+1)}">${list.option1!}</label>
							</div>
							<div>
								<input type="radio" name="ans1" id="${'11_'+(list_index+1)}" typeid="${list.value2!}" />
								<label for="${'11_'+(list_index+1)}">${list.option2!}</label>
							</div>
							</li>
						[/#list]
					</ul>
					<div class="bbx-ks-nums color-green">
						<span class="bbx-index">1</span>/<span class="bbx-counts">${onelist?size!}</span>第一部分
					</div>
				</div>
				<div class="am-progress">
					<div class="am-progress-bar" style="width: ${100/(onelist?size!100)}%"></div>
				</div>
			</div>
			<div class="bbx-ks-wrap gps box-shadow am-hide">
				<div class="bbx-xgcs-ks gps">
					<button type="button" class="am-btn bg-green abs-center" onclick="showContent(this)">第二部分</button>
				</div>
			</div>
			<div class="bbx-ks-wrap gps box-shadow am-hide">
				<div class="bbx-xgcs-ks">
				<p class="cs-warn">下面你将会看到47组成对出现的成语。请你选择每一对词语中更合你心意的那个。<br /> 请注意，请根据词语的意义判断你是否喜欢它，而不须理会它们的字形或读音。</p>
				<ul>
					[#list twolist as list]
						<li class="am-hide">
							<div>
								<input type="radio" name="ans1" id="${'2_'+(list_index+1)}" typeid="${list.value1}"  />
								<label for="${'2_'+(list_index+1)}">${list.option1!}</label>
							</div>
							<div>
								<input type="radio" name="ans1" id="${'22_'+(list_index+1)}" typeid="${list.value2!}" />
								<label for="${'22_'+(list_index+1)}">${list.option2!}</label>
							</div>
						</li>
					[/#list]
					</ul>
					<div class="bbx-ks-nums color-green">
						<span class="bbx-index">1</span>/<span class="bbx-counts">${twolist?size!}</span>第二部分
					</div>
				</div>
				<div class="am-progress">
					<div class="am-progress-bar" style="width: ${100/(twolist?size!100)}%"></div>
				</div>
			</div>
			<!--提交-->
			<div class="bbx-ks-wrap gps box-shadow am-hide">
				<div class="bbx-xgcs-ks gps">
					<button type="button" id="tj"  onclick="tj(this)" class="am-btn bg-green abs-center">提交测试</button>
				</div>
			</div>
			<form action="MBTIReport.jspx" id="MBTIReport" method="post">
				<input type="hidden" id="ajaxData" name="ajaxData" value="">
				<input type="hidden" id=E name="E" >
				<input type="hidden" id="F" name="F" >
				<input type="hidden" id="I" name="I" >
				<input type="hidden" id="J" name="J" >
				<input type="hidden" id="N" name="N" >
				<input type="hidden" id="P" name="P" >
				<input type="hidden" id="S" name="S" >
				<input type="hidden" id="T" name="T" >
			</form>
		</section>
		[#include "../wdedu/include/footer_new.html"/]
	</body>
	<script type="text/javascript" src="${resSys}/res/js/head.js"></script>
	<script type="text/javascript">
		var localStatus = {
			"id":1,
			"subId":0
		};
		statusActive(localStatus);
		var index=1,count=2;
		function showContent(obj){
			index=1;
			count = 2;
			$(obj).parents(".bbx-ks-wrap").addClass("am-hide");
			$(obj).parents(".bbx-ks-wrap").next().removeClass("am-hide");
			$(obj).parents(".bbx-ks-wrap").next().find("ul").children("li:first-child").removeClass("am-hide");
		};
		var E=0,F=0,I=0,J=0,N=0,P=0,S=0,T=0;
		function radioClick(obj){
			var typeid = $(obj).attr("typeid");
			if(typeid=='E'){
				E=E+1;
			};
			if(typeid=='F'){
				F=F+1;
			};
			if(typeid=='I'){
				I=I+1;
			};
			if(typeid=='J'){
				J=J+1;
			};
			if(typeid=='N'){
				N=N+1;
			};
			if(typeid=='P'){
				P=P+1;
			};
			if(typeid=='S'){
				S=S+1;
			};
			if(typeid=='T'){
				T=T+1;
			};
			var indexCounts = parseInt($(obj).parents("ul").next().find(".bbx-counts").text());
			console.log('indexCounts',indexCounts)
			var widths='';
			setTimeout(function(){
				widths =count * (100/indexCounts)+"%";
				$(obj).parents("li").addClass("am-hide");
				if(index < indexCounts){
					$(obj).parents("li").next().removeClass("am-hide");
					$(obj).parents("ul").next().find(".bbx-index").text(index+1);
					$(obj).parents(".bbx-xgcs-ks").next().find(".am-progress-bar").css("width",widths);
					index+=1;
					count+=1;
				}else{
					index==1;
					$(obj).parents(".bbx-ks-wrap").addClass("am-hide");
					$(obj).parents(".bbx-ks-wrap").next().removeClass("am-hide");;
				};
			},300);
		};
		$('input[type="radio"]').on('click',function(event){
			event.stopPropagation();
			radioClick(this);
			$(this).unbind('click');
		});
		function tj(obj){
			$("input[name='E']").val(E);
			$("input[name='F']").val(F);
			$("input[name='I']").val(I);
			$("input[name='J']").val(J);
			$("input[name='N']").val(N);
			$("input[name='P']").val(P);
			$("input[name='S']").val(S);
			$("input[name='T']").val(T);
			$('#MBTIReport').submit();
		}
	</script>
</html>