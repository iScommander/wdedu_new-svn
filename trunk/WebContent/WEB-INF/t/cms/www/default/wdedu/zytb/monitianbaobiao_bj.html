<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<title>填志愿</title>
	<link href="${base}/r/wdedu/css/public.css" rel="stylesheet" type="text/css" />
	<link rel="stylesheet" type="text/css" href="${base}/r/wdedu/css/index.css" />
	<script src="${base}/r/wdedu/js/jquery-1.10.2.js"></script>
	<script type="text/javascript" src="${base}/r/wdedu/js/js/web.js"></script>
	<script src="${base}/r/wdedu/js/jquery-1.11.1.min.js" type="text/javascript" ></script>
	<link rel="stylesheet" href="${base}/r/wdedu/css/pignose.tab.min.css" />

	<style type="text/css">

		#wrapper {
			padding-bottom: 40px;
		}
		.article {
			margin: 0 auto;
			text-align: center;
		}
		.article h3 {
			margin-bottom: 40px;
		}
		.article table {
			font-size: 115%;
			text-align: left;
		}
		.article pre {
			font-size: 115%;
		}
		.nav.tab { width: auto; max-width: 100%; margin: 0; border: 0; padding: 0; border-bottom: 1px solid #ddd; }
		.pignose-sub-tab { border: 0; margin: 0; padding: 0;}
		.table { width: 100%; table-layout: fixed; }
		.table .subject { text-align: left; padding-left: 5%; }
		.table .date { text-align: right; padding-right: 5%; }
	</style>


</head>
<body>
[#include "../include/header_address.html"/]
[#include "../include/header_zytb.html"/]
<div class="mbxdh_bg">
	<div class="mbxdh">
		<a href="${base}/">首页</a>&nbsp;&gt; &nbsp;<a href="#">志愿填报</a>&nbsp;&gt; &nbsp; <a href="#">填志愿</a>
	</div>
</div>
<div class="con">
	<div class="leftFl f_l">
		<div class="fl_l">
			[#if batchList??]
			[#list batchList as bList]
			[#if bList_index==0]
			<div class="active follow"><a href="javascript:;">${bList.batchName!}</a></div>
			[#else]
			<div class="follow"><a href="javascript:;">${bList.batchName!}</a></div>
			[/#if]
			<!--<div class=" active follow"><a href="javascript:;" title="">本科第一批</a></div>-->
			<!--<div class="follow"><a href="javascript:;" title="">本科第二批</a></div>-->
			<!--<div class="follow"><a href="javascript:;" title="">专科批</a></div>-->
			[/#list]
			[/#if]
			[#if havePingGu??&&havePingGu=="true"]
			[#if applicationsInfo??]
			<!--<div class="PDF"><a href="javascript:;" title=""  onclick="op('${applicationsInfo.id!}','${applicationsInfo.provinceId!}')">评估</a></div>-->
			<div class="PDF"><a href="javascript:;" title="" onclick="javascript:window.location.href='${base}/zytb/excelExport.jspx?applicationId=${applicationsInfo.id!}'">导出</a></div>
			[/#if]
			<div class="PDF"><a href="javascript:;" title="" onclick="beforePrint();window.print();afterPrint();">下载PDF</a></div>
                [/#if]
		</div>
	</div>
	<div class="rightFl f_r">
		<div class="mntbb_bt">2019年志愿模拟填报表</div>
		<div class="information-BatchFill">
			<!--个人信息-->

			[#if applicationsInfo??]
			<div class="mntbb_lb  information">
				<div class="flex-item f_l">
					方案名称：<span>${applicationsInfo.applicationName!}</span>
				</div>

				<div class="  flex-item f_l">
					地区：<span>${provinceMap['${applicationsInfo.provinceId!"0"}']}</span>
				</div>

				<div class=" flex-item f_l">
					文理科：<span>${applicationsInfo.majorTypeId?replace(1,'文科')?replace(2,'理科')?replace(3,'综合改革')}</span>
				</div>
				<div class="flex-item f_l">
					成绩：<span>${applicationsInfo.score!}</span>
				</div>

				<div class="flex-item f_l">
					选科：<span>${(applicationsInfo.subjects!"")?replace('1','物理')?replace('2','化学')?replace('3','生物')?replace('4','政治')?replace('5','历史')?replace('6','地理')?replace('7','技术')}
								${(applicationsInfo.subjectsLevel!"")?replace('1','A+')?replace('2','A')?replace('3','B+')?replace('4','B')?replace('5','C')?replace('6','D')}</span>
				</div>

				<div class=" flex-item f_l" onclick="op('${applicationsInfo.id!}','${applicationsInfo.provinceId!}')">
					排名：<span>${applicationsInfo.rank!}</span>
				</div>
			</div>

			[/#if]
			<div class="clearfix"></div>
			<!--批次填报-->

			<div class="BatchFill">
			<div class="fl_r">
				[#if univNumMap??]
				[#if batchMap??]
				[#if batchList??]
				[#list batchList as batch]

					<div  class="follow">
						<div class="mntbb_tb flex-container2">
							<div class="mntbb_Batch eachBatch">
								<div class="mntbb_pc f_l ccyc">${batch.batchName!}</div>
								<span>批次线:${batch.score!}; 可报志愿:${batch.univNum!}(${univNumMap['${batch.batchId!}']!"0"})个; 备选志愿:${batch.extraNum!}个;报考结束时间:${batch.fillDate!} </span>
								<!--<button class="btn8 btnColorYellow">批次填报</button>-->
								<button class="btn3 btnColorGreen" onclick="javascrtpt:window.location.href='${base}/zytb/project.jspx?applicationId=${applicationsInfo.id}&batchId=${batch.batchId!}'">
									批次填报</button>
								<div class="clearfix"></div>
							</div>
						</div>

						<table class="table table-striped deeptable school_list" cellspacing="0" cellpadding="0">
							<tr>
								<th>志愿顺序</th>
								<th style="width: 400px;">院校名称</th>
								<th style="width: 400px;">选报专业</th>
								<th>服从调剂</th>
							</tr>

							<!--平行部分-->
							[#if batchMap['${batch.batchId!}']??]
							[#assign univList=batchMap['${batch.batchId!}']/]
							[#list univList as univ]
							[#if havePingGu??&&havePingGu=="true"]
							 <tr class="school_info">
                            								<td>
                            									<input type="hidden" name="batchIds" value="${univ.batchId!}"/>
                            									[#if batch.ceePre == '顺序志愿']
                            									[#if univ.isFormal == '0']
                            									<span class="abc">顺序志愿${univ_index?replace(0,'一')?replace(1,'二')?replace(2,'三')?replace(3,'四')?replace(4,'五')}</span>
                            									[#else]
                            									<span class="abc">备选志愿${univ_index!}</span>
                            									[/#if]
                            									[#elseif batch.ceePre == '平行志愿']
                            									<span class="abc">平行志愿${univ_index+1!}</span>
                            									[/#if]
                            									<input name="univ_code" type="hidden"/>
                            									<div class="btn3_bt flex-item">
                            										<button class="btn3 " onclick="javascrtpt:window.location.href='${base}/zytb/project.jspx?applicationId=${applicationsInfo.id}&batchId=${batch.batchId!}'">
                            											志愿填报</button>
                            									</div>
                            								</td>
                            								<td  id="schoolList">
                            									[#if univ.univCode ?? ]
                            									[#if univ.univCode =='null']
                            									<div class="beyondHidden28">请点击左侧志愿填报</div>
                            									<input type="hidden" name="yuanXiaoZs_${univ.batchId}" value="[]"/>
                            									[#else]
                            									<div class="beyondHidden28">【${univ.univCode!?replace('null','')}】${univ.univName!?replace('null','')}</div>
                            									<input type="hidden" name="yuanXiaoZs_${univ.batchId}" value="[${univ.univId!},${univ.univCode!},${univ.univName!},${applicationsInfo.id!},正式]"  />
																[#if univ.univTestRemark??]

																[#if univ.univTestRemark!='null']
																<div><p>${univ.univTestRemark!}</p></div>
																[/#if]
																[/#if]
																[/#if]
                            									[/#if]
                            									<div class="mntbb_sxs flex-item">
                            										[#if univ.univCode ?? ]
                            										[#if univ.univCode =='null']
                            										[#else]
                            										<span><!-- 此处 dl+id-->
                                                            		<span class="school_info_move dl">
                                                            			<img class="school_info_move_up" src="${base}/r/wdedu/images/mntb_1.png" onclick="upMoveYX(this,'${applicationsInfo.id}',${univ.batchId!})" />
                                                            			<img class="school_info_move_down" src="${base}/r/wdedu/images/mntb_2.png" alt="" onclick="downMoveYX(this,'${applicationsInfo.id}',${univ.batchId!})"/>
                                                                         <img class="school_info_move_down2 delete" src="${base}/r/wdedu/images/mntb_3.png" alt=""  onclick="remove_app('${applicationsInfo.id}','${univ.batchId!}','${univ.univId!}', '${univ.univCode!}','${univ.univName!}','${univ.isFormal!}', this)"/>
                                                            		</span>
                                                            	</span>
                            										[/#if]
                            										[/#if]
                            									</div>
                            								</td>

                            								<td>
                            									<ul class="specialtyList dl" id="specialtyList">
                            										[#assign univMap=appMap['${batch.batchId!}']/]
                            										[#assign detailList=univMap['${univ.univOrder!}']/]
                            										[#list detailList as detail]
                            										[#if detail.majorCode ??]
                            										<li class="flex-container2 specialty_move" >
                            											<input type="hidden" name="id" value="${detail.id}"/>
                            											<input type="hidden" name="univAndMajorAndOrder"  value="[${detail.id!}]"/>
                            											<div class="flex-item6 beyondHidden35 f_l">【${detail.majorCode!}】${detail.majorName!}</div>
                            											<div class="flex_yd flex-item6 f_r" style="width: 50px;">
                            												<img class="specialty_up f_l" src="${base}/r/wdedu/images/mntb_5.png"/>
                            												<img class="specialty_down f_r" src="${base}/r/wdedu/images/mntb_4.png"/>
                            												<div class="clearfix"></div>
                            											</div>
                            											<div class="clearfix"></div>
                            										</li>
                            										[#else]
                            										<li class="flex-container2 specialty_move" >
                            											<input type="hidden" name="id" value="${detail.id}"/>
                            											<input type="hidden" name="univAndMajorAndOrder"  value="[]"/>
                            											<div class="flex-item6 beyondHidden35 f_l">请点击左侧志愿填报</div>
                            											<div class="flex_yd flex-item6 f_r" style="width: 50px;">
                            												<img class="specialty_up f_l" src="${base}/r/wdedu/images/mntb_5.png"/>
                            												<img class="specialty_down f_r" src="${base}/r/wdedu/images/mntb_4.png"/>
                            												<div class="clearfix"></div>
                            											</div>
                            											<div class="clearfix"></div>
                            										</li>
                            										[/#if]
                            										[/#list]
                            									</ul>
                            								</td>

                            								<td>
                            									<ul class="WhetherObey">
                            										<li>
                            											[#if univ.isObey??]
                            											[#if univ.isObey =='1']
                            											<button class=" active" value="1" >服从</button>
                            											<button class="noObey" value="0" onclick="obeyUpdate(${univ.detailId!},'0')">不服从</button>
                            											[#else]
                            											<button class="obey" value="1" onclick="obeyUpdate(${univ.detailId!},'1')">服从</button>
                            											<button class=" active" value="0" >不服从</button>
                            											[/#if]
                            											[/#if]
                            										</li>
                            									</ul>
                            								</td>
                            							</tr>
                            [/#if]
							[#if havePingGu??&&havePingGu=="false"&&univ_index==0]
							     <tr class="school_info">
									 <td>
                                                   <input type="hidden" name="batchIds" value="${univ.batchId!}"/>
                                                   [#if batch.ceePre == '顺序志愿']
                                                   [#if univ.isFormal == '0']
                                                   顺序志愿${univ_index?replace(0,'一')?replace(1,'二')?replace(2,'三')?replace(3,'四')?replace(4,'五')}
                                                   [#else]
                                                   备选志愿${univ_index!}
                                                   [/#if]
                                                   [#elseif batch.ceePre == '平行志愿']
                                                   <span class="abc">平行志愿${univ_index+1!}</span>
                                                   [/#if]
                                                   <input name="univ_code" type="hidden"/>
                                                   <div class="btn3_bt flex-item">
                                                   	<button class="btn3 " onclick="javascrtpt:window.location.href='${base}/zytb/project.jspx?applicationId=${applicationsInfo.id}&batchId=${batch.batchId!}'">
                                                   		志愿填报</button>
                                                   </div>
                                                   </td>
                                                   <td  id="schoolList">
                                                   	[#if univ.univCode ?? ]
                                                   	[#if univ.univCode =='null']
                                                   	<div class="beyondHidden28">请点击左侧志愿填报</div>
                                                   	<input type="hidden" name="yuanXiaoZs_${univ.batchId}" value="[]"/>
                                                   	[#else]
                                                   	<div class="beyondHidden28">【${univ.univCode!?replace('null','')}】${univ.univName!?replace('null','')}</div>
                                                   	<input type="hidden" name="yuanXiaoZs_${univ.batchId}" value="[${univ.univId!},${univ.univCode!},${univ.univName!},${applicationsInfo.id!},正式]"  />
													[#if univ.univTestRemark??]

													<div><p>${univ.univTestRemark!}</p></div>
													[/#if]
													[/#if]
                                                   	[/#if]
                                                   	<div class="mntbb_sxs flex-item">
                                                   		[#if univ.univCode ?? ]
                                                   		[#if univ.univCode =='null']
                                                   		[#else]
                                                   		<span><!-- 此处 dl+id-->
                                                    		<span class="school_info_move dl">
                                                    			<img class="school_info_move_up" src="${base}/r/wdedu/images/mntb_1.png" style="pointer-events:none;" onclick="upMoveYX(this,'${applicationsInfo.id}',${univ.batchId!})" />
                                                    			<img class="school_info_move_down" src="${base}/r/wdedu/images/mntb_2.png" alt=""  style="pointer-events:none;" onclick="downMoveYX(this,'${applicationsInfo.id}',${univ.batchId!})"/>
                                                                 <img class="school_info_move_down2 delete" src="${base}/r/wdedu/images/mntb_3.png" alt="" style="pointer-events:none;"  onclick="remove_app('${applicationsInfo.id!}','${univ.batchId!}','${univ.univId!}', '${univ.univCode!}','${univ.univName!}','${univ.isFormal!}', this)"/>
                                                    		</span>
                                                    	</span>
                                                   		[/#if]
                                                   		[/#if]
                                                   	</div>
                                                   </td>

                                                             								<td>
                                                             									<ul class="specialtyList dl" id="specialtyList">
                                                             										[#assign univMap=appMap['${batch.batchId!}']/]
                                                             										[#assign detailList=univMap['${univ.univOrder!}']/]
                                                             										[#list detailList as detail]
                                                             										[#if detail.majorCode ??]
                                                             										<li class="flex-container2 specialty_move" >
                                                             											<input type="hidden" name="id" value="${detail.id}"/>
                                                             											<input type="hidden" name="univAndMajorAndOrder"  value="[${detail.id!}]"/>
                                                             											<div class="flex-item6 beyondHidden35 f_l">【${detail.majorCode!}】${detail.majorName!}</div>
                                                             											<div class="flex_yd flex-item6 f_r" style="width: 50px;">
                                                             												<img class="specialty_up f_l" src="${base}/r/wdedu/images/mntb_5.png"/>
                                                             												<img class="specialty_down f_r" src="${base}/r/wdedu/images/mntb_4.png"/>
                                                             												<div class="clearfix"></div>
                                                             											</div>
                                                             											<div class="clearfix"></div>
                                                             										</li>
                                                             										[#else]
                                                             										<li class="flex-container2 specialty_move" >
                                                             											<input type="hidden" name="id" value="${detail.id}"/>
                                                             											<input type="hidden" name="univAndMajorAndOrder"  value="[]"/>
                                                             											<div class="flex-item6 beyondHidden35 f_l">请点击左侧志愿填报</div>
                                                             											<div class="flex_yd flex-item6 f_r" style="width: 50px;">
                                                             												<img class="specialty_up f_l" src="${base}/r/wdedu/images/mntb_5.png"/>
                                                             												<img class="specialty_down f_r" src="${base}/r/wdedu/images/mntb_4.png"/>
                                                             												<div class="clearfix"></div>
                                                             											</div>
                                                             											<div class="clearfix"></div>
                                                             										</li>
                                                             										[/#if]
                                                             										[/#list]
                                                             									</ul>
                                                             								</td>

                                                             								<td>
                                                             									<ul class="WhetherObey">
                                                             										<li>
                                                             											[#if univ.isObey??]
                                                             											[#if univ.isObey =='1']
                                                             											<button class=" active" value="1">服从</button>
                                                             											<button class="noObey" value="0" onclick="obeyUpdate(${univ.detailId!},'0')">不服从</button>
                                                             											[#else]
                                                             											<button class="obey" value="1" onclick="obeyUpdate(${univ.detailId!},'1')">服从</button>
                                                             											<button class=" active" value="0" >不服从</button>
                                                             											[/#if]
                                                             											[/#if]
                                                             										</li>
                                                             									</ul>
                                                             								</td>
                                                             							</tr>
                                  <tr>
                                <td colspan="4">
                                    <div class="n-sch1">
                                      <div class="m-cell">
                                     <p>购买VIP后可查看详细数据</p>
                                       <a href="${base}/NewsDisplay/testSxk.jspx" class="js-login-link">立即购买</a>
                                          </div>
                                          </div>
                                            </td>
                                      </tr>

                            		[/#if]

							[/#list]
							[/#if]

							<!--备选部分-->
							[#if batchMaps['${batch.batchId!}']??]
							[#assign univList=batchMaps['${batch.batchId!}']/]
							[#list univList as univ]
							[#if havePingGu??&&havePingGu=="true"]
							<tr class="school_info">
								<td>
									<input type="hidden" name="batchIds" value="${univ.batchId!}"/>
									[#if univ.isFormal == '1']
									<span class="abc">备选志愿${univ_index?replace(0,'一')?replace(1,'二')?replace(2,'三')?replace(3,'四')?replace(4,'五')}</span>
									[/#if]
									<input name="univ_code" type="hidden"/>
									<div class="btn3_bt flex-item">
										<button class="btn3" onclick="javascrtpt:window.location.href='${base}/zytb/project.jspx?applicationId=${applicationsInfo.id}&batchId=${batch.batchId!}'">
											志愿填报</button>
									</div>
								</td>
								<td  id="schoolList">
									[#if univ.univCode ?? ]
									[#if univ.univCode =='null']
									<div class="beyondHidden28">请点击左侧志愿填报</div>
									<input type="hidden" name="yuanXiaoBeixuan_${univ.batchId}"  value="[]"  />
									[#else]
									<div class="beyondHidden28">【${univ.univCode!?replace('null','')}】${univ.univName!?replace('null','')}</div>
									<input type="hidden" name="yuanXiaoBeixuan_${univ.batchId}"  value="[${univ.univId!},${univ.univCode!},${univ.univName!},${applicationsInfo.id!},备选]"  />
									[#if univ.univTestRemark??]

									[#if univ.univTestRemark!='null']
									<div><p>${univ.univTestRemark!}</p></div>
									[/#if]
									[/#if]
									[/#if]
									[/#if]
									<div class="mntbb_sxs flex-item">
										[#if univ.univCode ?? ]
										[#if univ.univCode =='null']
										[#else]
										<span><!-- 此处 dl+id-->
                                		<span class="school_info_move dl">
                                			<img class="school_info_move_up" src="${base}/r/wdedu/images/mntb_1.png" onclick="upMoveYX(this,'${applicationsInfo.id}',${univ.batchId!})" />
                                			<img class="school_info_move_down" src="${base}/r/wdedu/images/mntb_2.png" alt="" onclick="downMoveYX(this,'${applicationsInfo.id}',${univ.batchId!})"/>
                                             <img class="school_info_move_down2 delete" src="${base}/r/wdedu/images/mntb_3.png" alt=""  onclick="remove_app('${applicationsInfo.id}','${univ.batchId!}','${univ.univId!}', '${univ.univCode!}','${univ.univName!}','${univ.isFormal!}', this)"/>
                                                                                                                                                                                                                                                                                                                      		</span>
                                		</span>
                                	</span>
										[/#if]
										[/#if]
									</div>
								</td>
								<td>
									<ul class="specialtyList" id="specialtyListBeixuan">
										[#assign univMap=appMaps['${batch.batchId!}']/]
										[#assign detailList=univMap['${univ.univOrder!}']/]
										[#list detailList as detail]
										[#if detail.majorCode ??]
										<li class="flex-container2 specialty_move">
											<input type="hidden" name="id" value="${detail.id}"/>
											<input type="hidden" name="beiXuanZhuanYe"  value="[${detail.id!}]"  />

											<div class="flex-item6 beyondHidden35 f_l">【${detail.majorCode!}】${detail.majorName!}</div>
											<div class="flex_yd flex-item6 f_r" style="width: 50px;">
												<img class="specialty_up f_l" src="${base}/r/wdedu/images/mntb_5.png"/>
												<img class="specialty_down f_r" src="${base}/r/wdedu/images/mntb_4.png"/>
												<div class="clearfix"></div>
											</div>
											<div class="clearfix"></div>
										</li>
										[#else]
										<li class="flex-container2 specialty_move" >
											<input type="hidden" name="id" value="${detail.id}"/>
											<input type="hidden" name="beiXuanZhuanYe"  value="[]"  />
											<div class="flex-item6 beyondHidden35 f_l">请点击左侧志愿填报</div>
											<div class="flex_yd flex-item6 f_r" style="width: 50px;">
												<img class="specialty_up f_l" src="${base}/r/wdedu/images/mntb_5.png"/>
												<img class="specialty_down f_r" src="${base}/r/wdedu/images/mntb_4.png"/>
												<div class="clearfix"></div>
											</div>
											<div class="clearfix"></div>
										</li>
										[/#if]
										[/#list]
									</ul>
								</td>
								<td>
									<ul class="WhetherObey">
										<li>
											[#if univ.isObey??]
											[#if univ.isObey =='1']
											<button class=" active" value="1" >服从</button>
											<button class="noObey" value="0" onclick="obeyUpdate(${univ.detailId!},'0')">不服从</button>
											[#else]
											<button class="obey" value="1" onclick="obeyUpdate(${univ.detailId!},'1')">服从</button>
											<button class=" active" value="0" >不服从</button>
											[/#if]
											[/#if]
										</li>
									</ul>
								</td>
							</tr>
							[/#if]


							[/#list]
							[/#if]
						</table>
					</div>

				[/#list]
				[/#if]
				[/#if]
				[/#if]
                </div>

			</div>

		</div>
	</div>
	<div class="clearfix"></div>
</div>
     <div id="floatToolsTwo" class="rides-cs" style="top: 200px;background: #1f2e76">
                    <div class="floatL">
                        <a id="aFloatTools_ShowTwo" class="yhxxImgOpen" title="查看" style="height: 175px;top:-10px;display:block"
                           href="javascript:void(0);">展开</a>
                        <a id="aFloatTools_HideTwo" class="yhxxImgClose" title="关闭" style="height: 175px;top:-10px;display:none"
                           href="javascript:void(0);">收缩</a>
                    </div>
                    <div id="divFloatToolsViewTwo" class="floatR" style="display: none;">
                        <div class="cn">
                            <div class="jbxxBt">我的基本信息</div>
                            [#if applicationsInfo??]
                            <div class="jbxx">方案名称：<span>${applicationsInfo.applicationName!}</span></div>
                            <div class="jbxx">地区：<span>${provinceMap['${applicationsInfo.provinceId!"0"}']}</span></div>
                            <div class="jbxx">文理科：<span>${applicationsInfo.majorTypeId?replace(1,'文科')?replace(2,'理科')?replace(3,'综合改革')}</span></div>
                            <div class="jbxx">成绩：<span>${applicationsInfo.score!}</span></div>
                            <div class="jbxx">排名：<span>${applicationsInfo.rank!}</span></div>
                            <div class="jbxx">选科：<span>${(applicationsInfo.subjects!"")?replace('1','物理')?replace('2','化学')?replace('3','生物')?replace('4','政治')?replace('5','历史')?replace('6','地理')?replace('7','技术')}
                                                       								${(applicationsInfo.subjectsLevel!"")?replace('1','A+')?replace('2','A')?replace('3','B+')?replace('4','B')?replace('5','C')?replace('6','D')}</span>
			                    [/#if]
                        </div>

                    </div>
                    <div class="clearfix"></div>
                </div>
                </div>
<div class="mntbb_mb" id="box2">
	<div class="mntbb_mb_zt">
		[#if applicationsInfo??]
		<a class="mntbb_mb_an" onclick="op('${applicationsInfo.id!}','${applicationsInfo.provinceId!}')">评估志愿</a>
		<!--<a class="mntbb_mb_an" onclick="gotozhiyuanbiao(${applicationsInfo.id!})">保存志愿表</a>-->
		[/#if]
		<a class="mntbb_mb_an" href="${base}/admissonSvcAct/findVoluntary.jspx">再建一个方案</a>
	</div>
	<div class="clearfix"></div>
</div>
[#include "../include/footer_new.html"/]
<script type="text/javascript" src="${base}/r/wdedu/js/pignose.tab.min.js"></script>
<script type="text/javascript" src="${base}/r/wdedu/js/tzy.js"></script>
<script type="text/javascript">

	function gotozhiyuanbiao(application_id,batch_id){
		// 正式院校专业
		var univOrderStrZs = "";
		var majorOrderStrZs = "";

		var univOrderStrBx = "";
		var majorOrderStrBx = "";
		$(".school_list tr").each(function() {
			$(this).find("input[name='yuanXiaoZs_"+batch_id+"']").each(function(){
				univOrderStrZs+=$(this).val()+"|";
			});
			$(this).find("input[name='yuanXiaoBeixuan_"+batch_id+"']").each(function(){
				univOrderStrBx+=$(this).val()+"|";

			})
		});

		$("#specialtyList li").each(function(){
			$(this).find("input[name='univAndMajorAndOrder']").each(function(){
				majorOrderStrZs+=$(this).val()+"|";
			})

		});
		$("#specialtyListBeixuan li").each(function(){
			$(this).find("input[name='beiXuanZhuanYe']").each(function(){
				majorOrderStrBx+=$(this).val()+"|";
			})
		});

		$.ajax({
			dataType: "json",
			contentType: "application/x-www-form-urlencoded; charset=utf-8",
			url:"${base}/zytb/voluntary.jspx",
			data:{
				applicationId:application_id,
				batchIdToUpdate:batch_id,
				univOrderStrZs:univOrderStrZs,
				majorOrderStrZs:majorOrderStrZs,
				univOrderStrBx:univOrderStrBx,
				majorOrderStrBx:majorOrderStrBx
			},
			type:"post",
			err:function (data) {
				alert("提交失败！\r\n"+data);
			},
			success:function (data) {
				var res = eval('(' + data + ')');
				if(res && res.success == true){
					alert(res.msg);
				}
			}
		});

	}
	//首页旅游产品分类
	$(".product_sort .bd .item").hover(function(){
		$(this).addClass("layer");
	},function(){
		$(this).removeClass("layer");
	});
	$( document).ready(function() {
		$(".tzy_table_td_xz").click(function(){
			if($(this).hasClass('fxk')){
				$(this).removeClass('fxk');
			}else{
				$(this).addClass('fxk');
			}
		})
	});

	$(function() {
		$('.tab').pignoseTab({
			animation: true,
			children: '.tab'
		});
	});

	//上移  下移
	$(".specialtyList .specialty_move img").click(function () {
		var parent = $(this).parents(".specialty_move");
		var this_index = $(this).parent().parent().index();
		var list = $(this).parents(".specialtyList").find(".specialty_move");
		var list_count = list.length - 1;
		var this_IsUp = $(this).hasClass("specialty_up"); //上移操作还是下移操作
		if (this_index == 0 && this_IsUp) {
			alert('顶部')
			return;
		} else if (this_index == list_count && !this_IsUp) {
			alert('底部')
			return;
		}
		var next_index = this_IsUp ? this_index + -1 : this_index + 1;
		if (this_IsUp) {
			var prev = parent.prev();
			parent.insertBefore(prev);
		} else {
			var next = parent.next();
			parent.insertAfter(next);
		}
		gotozhiyuanbiao();
	})

	//上移平行/顺序院校
	function upMoveYX(obj,applicationsInfo,batchId) {
		var parent = $(this).parents(".school_info");
		var this_index = $(this).parents(".school_info").index() - 1;
		var list = $(this).parents(".school_list").find(".school_info");
		var list_count = list.length - 1;
		var this_IsUp = $(this).hasClass("school_info_move_up"); //上移操作还是下移操作

		if (this_index == 0 && this_IsUp) {
			alert('顶部')
			return;
		} else if (this_index == list_count && !this_IsUp) {
			alert('底部')
			return;
		}
		var next_index = this_IsUp ? this_index + -1 : this_index + 1;
		if (this_IsUp) {
			var prev = parent.prev();
			parent.insertBefore(prev);
		} else {
			var next = parent.next();
			parent.insertAfter(next);
		}
		var $parentTr = $(obj).parent().parent().parent().parent().parent();
		var parentIndex = $parentTr.index();

		if(parentIndex === 0 ) { //第一个
			return false;
		};
		//插入到上一位元素之前
		$parentTr.parent().children().eq(parentIndex).insertBefore($parentTr.parent().children().eq(parentIndex-1));
		//自身排名减一
		var valthis =	"";
		var upvalthis = $parentTr.parent().children().eq(parentIndex-1).children().eq(0).find("span").text() ;
		//当前点击的input  value值

        var par=$(obj).parent().parent().parent().parent().find("input").eq(0).val();
        //当前点击的input  name值
         var par2=$(obj).parent().parent().parent().parent().find("input").eq(0).attr("name") ;
        //上一个input value值
       var par3=$parentTr.parent().children().eq(parentIndex).find("input").eq(2).val();
            var fas="";
            var fadq2="";
        if (par3.indexOf("正式")>=0){
          fas="正式"
        }else {
            fas="备选"
        }
         if (par.indexOf("正式")>=0){
                  fadq2="正式"
                }else {
                    fadq2="备选"
                }
$(obj).parent().parent().parent().parent().find("input").eq(0).attr("value",par.replace(fadq2,fas)) ;
$parentTr.parent().children().eq(parentIndex).find("input").eq(2).attr("value",par3.replace(fas,fadq2));
         //上一个input name值
        var par4=$parentTr.parent().children().eq(parentIndex).find("input").eq(2).attr("name");
        //当前对调name
        $(obj).parent().parent().parent().parent().find("input").eq(0).attr("name",par4);
        //上一个对调name
        $parentTr.parent().children().eq(parentIndex).find("input").eq(2).attr("name",par2);

		//上一位排名加一
		var valprev = "";
		var upvalprev=$parentTr.parent().children().eq(parentIndex).children().eq(0).find("span").text();
		$parentTr.parent().children().eq(parentIndex-1).children().eq(0).find("span").text(upvalprev);
        $parentTr.parent().children().eq(parentIndex).children().eq(0).find("span").text(upvalthis);

        var mc="";
        var mc2="";
        //专业当前input修改
       var zyNews=$(obj).parent().parent().parent().parent().parent().find("td").eq(2).find("li");
       //上一个专业input修改
       var zyNews2=$parentTr.parent().children().eq(parentIndex).find("td").eq(2).find("li");
       //交换id
       //上一个
        var yyid= $parentTr.parent().children().eq(parentIndex).find("td").eq(2).find("ul");
         var syg=yyid.attr("id")
         //本身
        var yyid2= $(obj).parent().parent().parent().parent().parent().find("td").eq(2).find("ul");
        var bs=yyid2.attr("id")
        yyid2.attr("id",syg);
        yyid.attr("id",bs);
       //循环取原本数据
        zyNews.find($("input[name='beiXuanZhuanYe']")).each(function(){
         mc="beiXuanZhuanYe"
        })
      zyNews.find($("input[name='univAndMajorAndOrder']")).each(function(){
       mc="univAndMajorAndOrder"
        })
       zyNews2.find($("input[name='beiXuanZhuanYe']")).each(function(){
           mc2="beiXuanZhuanYe"
           })
         zyNews2.find($("input[name='univAndMajorAndOrder']")).each(function(){
             mc2="univAndMajorAndOrder"
           })
        //循环赋值新数据
        zyNews.find($("input[name='beiXuanZhuanYe']")).each(function(){
        $(this).attr("name",mc2);
        })
      zyNews.find($("input[name='univAndMajorAndOrder']")).each(function(){
      $(this).attr("name",mc2);
        })
       zyNews2.find($("input[name='beiXuanZhuanYe']")).each(function(){
          $(this).attr("name",mc);
           })
         zyNews2.find($("input[name='univAndMajorAndOrder']")).each(function(){
         $(this).attr("name",mc);
           })

        gotozhiyuanbiao(applicationsInfo,batchId);
	};
	//上移备选志愿
	function upMoveBXYX(obj) {
		var parent = $(this).parents(".school_info_beixuan");
		var this_index = $(this).parents(".school_info_beixuan").index() - 1;
		var list = $(this).parents(".school_list").find(".school_info_beixuan");
		var list_count = list.length - 1;
		var this_IsUp = $(this).hasClass("school_info_move_up"); //上移操作还是下移操作

		if (this_index == 0 && this_IsUp) {
			alert('顶部')
			return;
		} else if (this_index == list_count && !this_IsUp) {
			alert('底部')
			return;
		}
		var next_index = this_IsUp ? this_index + -1 : this_index + 1;
		if (this_IsUp) {
			var prev = parent.prev();
			parent.insertBefore(prev);
		} else {
			var next = parent.next();
			parent.insertAfter(next);
		}
		var $parentTr = $(obj).parent().parent().parent().parent().parent();
		var parentIndex = $parentTr.index();
		if(parentIndex === 0 ) { //第一个
			alert("顶部")
			return false;
		};
		//插入到上一位元素之前
		$parentTr.parent().children().eq(parentIndex)
				.insertBefore($parentTr.parent().children().eq(parentIndex-1));
		//自身排名减一
		var valthis =	"";
		var upvalthis = $parentTr.parent().children().eq(parentIndex-1).children().eq(0).find("span").text() ;
		var arry = new Array('一','二','三','四','五','六','七','八','九','十','十一','十二','十二','十三','十四','十五','十六','十七','十八','十九','二十','二十一','二十二');
		if (upvalthis ==arry[arry.indexOf(upvalthis)] ){

		}
		valthis =arry[arry.indexOf(upvalthis)-1]
        			alert(valthis);
        			$parentTr.parent().children().eq(parentIndex-1)
        					.children().eq(0).find("span").text(valthis);
		console.log(valthis)
		//上一位排名加一
		var valprev = ""
		var upvalprev=$parentTr.parent().children().eq(parentIndex-1).children().eq(0).find("span").text();
		if (upvalprev ==arry[arry.indexOf(upvalprev)] ){
			valprev =arry[arry.indexOf(upvalprev)+1]
			$parentTr.parent().children().eq(parentIndex)
					.children().eq(0).find("span").text(valprev);
		}
		gotozhiyuanbiao();
	};
	//下移平行/顺序院校
	function downMoveYX(obj,applicationsInfo,batchId) {

		var parent = $(this).parents(".school_info");
		var this_index = $(this).parents(".school_info").index() - 1;
		var list = $(this).parents(".school_list").find(".school_info");
		var list_count = list.length - 1;
		var this_IsUp = $(this).hasClass("school_info_move_up"); //上移操作还是下移操作

		if (this_index == 0 && this_IsUp) {
			alert('顶部')
			return;
		} else if (this_index == list_count && !this_IsUp) {
			alert('底部')
			return;
		}
		var next_index = this_IsUp ? this_index + -1 : this_index + 1;
		if (this_IsUp) {
			var prev = parent.prev();
			parent.insertBefore(prev);
		} else {
			var next = parent.next();
			parent.insertAfter(next);
		}
		var $parentTr = $(obj).parent().parent().parent().parent().parent();
		var allLen = $parentTr.length - 1;
		var parentIndex = $parentTr.index();
		if(parentIndex === allLen ) { //最后一个
			return false;
		};
		//插入到上一位元素之后
		$parentTr.parent().children().eq(parentIndex)
				.insertAfter($parentTr.parent().children().eq(parentIndex+1));
		//自身排名加一
		var valthis =	"";
		var upvalthis = $parentTr.parent().children().eq(parentIndex+1).children().eq(0).find("span").text() ;
		console.log(valthis)
		//上一位排名加一
		var valprev = ""
		var upvalprev=$parentTr.parent().children().eq(parentIndex).children().eq(0).find("span").text();
			$parentTr.parent().children().eq(parentIndex+1).children().eq(0).find("span").text(upvalprev);

	$parentTr.parent().children().eq(parentIndex).children().eq(0).find("span").text(upvalthis);
	//当前点击的input  value值
    var par=$(obj).parent().parent().parent().parent().find("input").eq(0).val();
    //当前点击的input  name值
     var par2=$(obj).parent().parent().parent().parent().find("input").eq(0).attr("name") ;
	//下一个input value值
     var par3=$parentTr.parent().children().eq(parentIndex).children().find("input").eq(2).val();
	//下一个input name值
      var par4=$parentTr.parent().children().eq(parentIndex).children().find("input").eq(2).attr("name");

     //当前对调name
     $(obj).parent().parent().parent().parent().find("input").eq(0).attr("name",par4);
     //下一个对调name
     $parentTr.parent().children().eq(parentIndex).children().find("input").eq(2).attr("name",par2);
            var fas="";
            var fadq2="";
        if (par3.indexOf("正式")>=0){
          fas="正式"
        }else {
            fas="备选"
        }
         if (par.indexOf("正式")>=0){
                  fadq2="正式"
                }else {
                    fadq2="备选"
                }
$(obj).parent().parent().parent().parent().find("input").eq(0).attr("value",par.replace(fadq2,fas)) ;
$parentTr.parent().children().eq(parentIndex).children().find("input").eq(2).attr("value",par3.replace(fas,fadq2));

        var mc="";
        var mc2="";
        //专业当前input修改
       var zyNews=$(obj).parent().parent().parent().parent().parent().find("td").eq(2).find("li");
       //下一个专业input修改
 //下一个专业input修改
       var zyNews2=$parentTr.parent().children().eq(parentIndex).find("td").eq(2).find("li");
       //交换id
       //上一个
        var yyid= $parentTr.parent().children().eq(parentIndex).find("td").eq(2).find("ul");
         var syg=yyid.attr("id")
         //本身
        var yyid2= $(obj).parent().parent().parent().parent().parent().find("td").eq(2).find("ul");
        var bs=yyid2.attr("id")
        yyid2.attr("id",syg);
        yyid.attr("id",bs);
       //循环取原本数据
        zyNews.find($("input[name='beiXuanZhuanYe']")).each(function(){
         mc="beiXuanZhuanYe"
        })
      zyNews.find($("input[name='univAndMajorAndOrder']")).each(function(){
       mc="univAndMajorAndOrder"
        })
       zyNews2.find($("input[name='beiXuanZhuanYe']")).each(function(){
           mc2="beiXuanZhuanYe"
           })
         zyNews2.find($("input[name='univAndMajorAndOrder']")).each(function(){
             mc2="univAndMajorAndOrder"
           })
        //循环赋值新数据
        zyNews.find($("input[name='beiXuanZhuanYe']")).each(function(){
        $(this).attr("name",mc2);
        })
      zyNews.find($("input[name='univAndMajorAndOrder']")).each(function(){
      $(this).attr("name",mc2);
        })
       zyNews2.find($("input[name='beiXuanZhuanYe']")).each(function(){
          $(this).attr("name",mc);
           })
         zyNews2.find($("input[name='univAndMajorAndOrder']")).each(function(){
         $(this).attr("name",mc);
           })

		gotozhiyuanbiao(applicationsInfo,batchId);
	};
	//下移备选志愿
	function downMoveBYYX(obj) {
		var parent = $(this).parents(".school_info_beixuan");
		var this_index = $(obj).parents(".school_info_beixuan").index() - 1;
		var list = $(this).parents(".school_list").find(".school_info_beixuan");
		var list_count = list.length - 1;
		var this_IsUp = $(obj).hasClass("school_info_move_up"); //上移操作还是下移操作

		if (this_index == 0 && this_IsUp) {
			alert('顶部')
			return;
		} else if (this_index == list_count && !this_IsUp) {
			alert('底部')
			return;
		}
		var next_index = this_IsUp ? this_index + -1 : this_index + 1;
		if (this_IsUp) {
			var prev = parent.prev();
			parent.insertBefore(prev);
		} else {
			var next = parent.next();
			parent.insertAfter(next);
		}
		var $parentTr = $(obj).parent().parent().parent().parent().parent();
		var allLen = $parentTr.length - 1;
		var parentIndex = $parentTr.index();
		if(parentIndex === allLen ) { //最后一个
			return false;
		};
		//插入到上一位元素之后
		$parentTr.parent().children().eq(parentIndex)
				.insertAfter($parentTr.parent().children().eq(parentIndex+1));
		//自身排名加一
		var valthis =	"";
		var upvalthis = $parentTr.parent().children().eq(parentIndex+1).children().eq(0).find("span").text() ;
		var arry = new Array('一','二','三','四','五','六','七','八','九','十','十一','十二','十二','十三','十四','十五','十六','十七','十八','十九','二十','二十一','二十二');
		if (upvalthis ==arry[arry.indexOf(upvalthis)] ){
			valthis =arry[arry.indexOf(upvalthis)+1]
			$parentTr.parent().children().eq(parentIndex+1)
					.children().eq(0).find("span").text(valthis);
		}
		console.log(valthis)
		//上一位排名加一
		var valprev = ""
		var upvalprev=$parentTr.parent().children().eq(parentIndex+1).children().eq(0).find("span").text();
		if (upvalprev ==arry[arry.indexOf(upvalprev)] ){
			valprev =arry[arry.indexOf(upvalprev)-1]
			$parentTr.parent().children().eq(parentIndex)
					.children().eq(0).find("span").text(valprev);
		}
			gotozhiyuanbiao();
	};
	//删除学校
	function remove_app(app_id,batch_id,univ_id, univ_code,univ_name,is_formal, self) {
		$(self).parent().parent().remove();
		$.ajax({
			url:"${base}/zytb/removeUniv.jspx",
			type:'post', //GET
			async:true,    //或false,是否异步
			dataType:'json',
			contentType:"application/x-www-form-urlencoded; charset=utf-8",
			traditional: true,
			data:{
				applicationId : app_id,
				batchId	:	batch_id,
				univId : univ_id,
				univCode : univ_code,
				univName : univ_name,
				isFormal : is_formal
			},
			complete:function () {
				alert("操作成功");
				window.location.reload();
			}
		})
	}

    function obeyUpdate(detail_id,is_obey){

        $.ajax({
            url:"${base}/zytb/updateObey.jspx",
            type:'post', //GET
            async:true,    //或false,是否异步
            dataType:'json',
            contentType:"application/x-www-form-urlencoded; charset=utf-8",
            traditional: true,
            data:{
                detailId : detail_id,
                isObey	:	is_obey
            },
            // complete:function () {
            // 	alert("操作成功");
            // 	window.location.reload();
            // }
            complete:function () {
                	// alert("操作成功");
                window.location.reload();
            }
        })

    }

	//服从  不服从  按钮
	$(".WhetherObey .obey").click(function () {
		var IsCheck = $(this).hasClass("discolor");
		$(this).parent().find("button").removeClass("discolor");
		if (!IsCheck) {
			$(this).addClass("discolor");
		}
	});
	$(".WhetherObey .noObey").click(function () {
		var IsCheck = $(this).hasClass("discolor");
		$(this).parent().find("button").removeClass("discolor");
		if (!IsCheck) {
			$(this).addClass("discolor");
		}
	});

	        function op(aid,apid){
                window.location.href="${base}/pdf/createPdf.jspx?applicationId="+aid+"&provinceId="+apid;
                $("body").mLoading({
                    text:"选择比努力更重要,评估报告生成中..."
                });
            }
</script>
     <link rel="stylesheet" href="${base}/r/js/jquery.mloading.css">
    <script src="${base}/r/js/jquery.mloading.js"></script>
</body>
</html>
